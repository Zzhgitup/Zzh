---
title: é¡¹ç›®æœ€åæ€»ç»“
date: 2022-04-30 23:16:17
icon: blog
tag:
  - é¡¹ç›®è€ƒæ ¸
category:
  - è®°å½•
---

<!--more-->

è¿™æ¬¡é¡¹ç›®å°±å¿«è¦ç»“æŸäº†ï¼Œé¡¹ç›®å¸Œæœ›è¿™å‡ å¤©èƒ½å¤Ÿåšå®Œï¼Œåšå¥½ï¼Œä¿è´¨ä¿é‡ï¼Œ æœ€åä¼šè¿›è¡Œ bug æµ‹è¯•ï¼Œå°½é‡ä½¿å¾—é¡¹ç›®èƒ½å¤Ÿåƒä¸€ä¸ªæ­£å¸¸çš„ç½‘ç«™èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œåœ¨è¿™ä¸€å‘¨çš„çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°é¡¹ç›®è¿˜æ˜¯æœ‰ç‚¹ä¸å¤Ÿäººæ€§åŒ–ï¼Œå¸Œæœ›è®©ç”¨æˆ·ç”¨ç€èˆ’æœï¼Œä¸è¿½æ±‚åŠŸèƒ½å¤šä¹ˆå‰å®³ï¼Œä½†æ˜¯è¦å¥½ç”¨ï¼Œè¯„è®ºè¿˜å·®ç‚¹ï¼Œå¸Œæœ›æˆ‘èƒ½å¤Ÿé¡ºåˆ©å®Œæˆï¼Œä¹‹åä¼šè¿›è¡Œæ‹“å±•åŠŸèƒ½çš„å®ç°ï¼Œåå°å¸Œæœ›èƒ½å¤Ÿå°½å¿«ä¸ç½‘é¡µä¸»ä½“å®ç°æ­£å¸¸åŠŸèƒ½ã€‚

å…¶ä»–ä¹Ÿæ²¡ä»€ä¹ˆè¯´çš„

æŠŠæˆ‘é¡¹ç›®çš„å·¥å…·åº“å‡½æ•°å‘å‡ºæ¥å§

```javascript
function getStyle(obj, name) {
  if (window.getComputedStyle) {
    return getComputedStyle(obj, null)[name];
  } else {
    return obj.currentStyle[name];
  }
}
function imgup(obj) {
  let file = obj.files[0];
  let reader = new FileReader();
  let name1 = obj.parentNode.children[0];
  reader.readAsDataURL(file);
  reader.onload = function (ev) {
    /*  $(name).attr("src", ev.target.result); */
    name1.setAttribute("src", ev.target.result);
  };
}
function outdifficulty(obj) {
  let text = obj.innerText;
  $(".pr-inner-xz:eq(0)").attr("value", text);
}
function outdifficulty2(obj) {
  let text = obj.innerText;
  $(".pr-inner-xz:eq(1)").attr("value", text);
}
//åˆ é™¤åŠŸèƒ½
function del(obj) {
  let a = obj.parentNode;
  a.parentNode.removeChild(a);
}
function del1(obj) {
  let a = obj.parentNode.parentNode;
  a.parentNode.removeChild(a);
}
function userkouweitext(obj) {
  let text = obj.innerText;
  console.log(text);
  $(".kouweiinput").val(text);
  $(".kouweilist").fadeOut(200);
}
function pushcode(obj) {
  $.ajax({
    async: true,
    dataType: "json",
    type: "get",
    url: "http://localhost:8080/user/getSession",
    success: function (date) {
      if (date.data == null) {
        console.log("æœªç™»å½•");
      } else {
        obj.src =
          "http://localhost:8080/recipe/getCode?id=" +
          date.data.id +
          "&" +
          Math.random();
      }
    },
  });
}
function pushcode2(obj) {
  $.ajax({
    async: true,
    dataType: "json",
    type: "get",
    url: "http://localhost:8080/user/getSession",
    success: function (date) {
      if (date.data == null) {
        console.log("æœªç™»å½•");
      } else {
        obj.src =
          "http://localhost:8080/menu/getCode?id=" +
          date.data.id +
          "&" +
          Math.random();
      }
    },
  });
}
function outlogin() {
  let userimgtab = document.getElementsByClassName("userimgmodel")[0];
  let longin = document.getElementsByClassName("longin")[0];
  userimgtab.style.display = "none";
  longin.style.display = "block";
  $.get("http://localhost:8080/user/exist", {}, function () {});
  window.location.assign("./home-page.html");
}
function logintest() {
  let userimgtab = document.getElementsByClassName("userimgmodel")[0];
  let admin = document.getElementsByClassName("userimgtab")[0];
  let longin = document.getElementsByClassName("longin")[0];
  $.ajax({
    async: true,
    dataType: "json",
    type: "get",
    url: "http://localhost:8080/user/getSession",
    success: function (date) {
      if (date.data == null) {
        console.log("æœªç™»å½•");
        userimgtab.style.display = "none";
        longin.style.display = "block";
      } else {
        userimgtab.style.display = "block";
        longin.style.display = "none";
      }
      if (date.data.sign == 1) {
        $(admin.children[0]).append(
          `<li><a href="./back-html/background.html">è¿›å…¥åå°</a></li>`
        );
      } else {
        console.log("æ™®é€šç”¨æˆ·");
      }
    },
  });
}
function upmsg(param) {
  $.ajax({
    async: true,
    dataType: "json",
    type: "get",
    url: "http://localhost:8080/user/getSession",
    success: function (date) {
      if (date.data == null) {
      } else {
        $.get(
          "http://localhost:8080/user/getUser",
          {
            id: date.data.id,
          },
          function (date) {
            let userimgmodel =
              document.getElementsByClassName("userimgmodel")[0];
            $(userimgmodel.children[0].children[0]).attr(
              "src",
              date.data.userInfo.photo
            );
          }
        );
      }
    },
  });
}
//è·å–URLä¼ é€’çš„å‚æ•°
function getQueryVariable(variable) {
  var query = window.location.search.substring(1);
  var vars = query.split("&");
  for (var i = 0; i < vars.length; i++) {
    var pair = vars[i].split("=");
    if (pair[0] == variable) {
      return pair[1];
    }
  }
  return false;
}
function getQueryVariable2(variable, url) {
  var query = url.substring(1);
  var vars = query.split("&");
  for (var i = 0; i < vars.length; i++) {
    var pair = vars[i].split("=");
    if (pair[0] == variable) {
      return pair[1];
    }
  }
  return false;
}
function hasclass(obj, join) {
  var reg = new RegExp("\\b" + join + "\\b");
  return reg.test(obj.className);
}
function addClass(obj, join) {
  if (!hasclass(obj, join)) {
    obj.className += " " + join;
  }
}
function deleteclass(obj, join) {
  var reg = new RegExp("\\b" + join + "\\b");
  obj.className = obj.className.replace(reg, "");
}
function statuswitch(i) {
  let type1 = document.getElementsByClassName("type-head")[0];
  for (let i = 0; i < 3; i++) {
    deleteclass(type1.children[i], "active");
    $(".state:eq(" + (i + 2) + ")").css("color", "#020202");
  }
  $(".state:eq(" + (i + 2) + ")").css("color", "rgb(255,197,82)");
  addClass(type1.children[i], "active");
  $(".content2").empty();
  //æ¸…ç©ºåç”¨æ ¹æ®é€‰æ‹©çš„é¡¹ç›®è¿›è¡Œajaxè¯·æ±‚è·å–å¯¹åº”æ•°æ®
  //-------------------------------------------------------
  //æ”¶è—å†…éƒ¨çš„åŠ è½½
  if (i == 2) {
    $(".recipe-head").css("display", "block");
    $(".content2").empty();
    //ajaxè¯·æ±‚æ”¶è—èœè°±çš„æ•°æ®ï¼ï¼
  } else {
    $(".recipe-head").css("display", "none");
  }
}
function search(param) {
  let tabsearchcontent = document.getElementsByClassName("tabsearchcontent")[0];
  console.log(tabsearchcontent.value);
  window.location.assign(`searchpage.html?name=${tabsearchcontent.value}`);
}
function zuiresousuo(obj) {
  let url = encodeURI(`searchpage.html?name=${obj.children[0].innerText}`);
  window.location.assign(url);
}
function search1(param) {
  let tabsearchcontent = document.getElementsByClassName("tabsearchcontent")[0];
  console.log(tabsearchcontent.value);
  window.location.assign(`../searchpage.html?name=${tabsearchcontent.value}`);
}
function fenlei(obj) {
  let url = encodeURI(`../searchpage.html?name=${obj.innerText}`);
  window.location.assign(url);
}
function fenlei1(obj) {
  let url = encodeURI(`./searchpage.html?name=${obj.innerText}`);
  window.location.assign(url);
}
function textnums(obj) {
  console.log(obj.value);
  if (200 - obj.value.lenght <= 0) {
    obj.value.lenght = 200;
  }
  $(".talknums").text(`è¿˜å¯ä»¥è¾“å…¥${200 - obj.value.length}`);
}
function zitinums(obj) {
  let obj1 = obj.parentNode;
  let kuang = obj1.children[1].children[0];
  if (200 - obj.value.lenght <= 0) {
    obj.value.lenght = 200;
  }
  $(kuang).text(`è¿˜å¯ä»¥è¾“å…¥${200 - obj.value.length}`);
}
```

æ²¡æœ‰æ³¨é‡Šï¼Œå› ä¸ºä¹Ÿå°±æˆ‘ä¸€ä¸ªäººçœ‹ ğŸ˜
